{"ast":null,"code":"// Imports\nimport React,{useState,useEffect}from\"react\";import Zoom from\"@material-ui/core/Zoom\";import Fab from\"@material-ui/core/Fab\";import AddIcon from\"@material-ui/icons/Add\";// The Expense function returns the expense section of the website\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Expense(props){// Constants\nconst[isExpanded,setExpanded]=useState(false);const[category,setCategory]=useState([]);const[isCategory,setIsCategory]=useState(true);const[exp,setExp]=useState({title:\"\",newTitle:\"\",amount:\"\",date:\"\",description:\"\"});useEffect(()=>{fetch(\"/api/categories\").then(res=>res.json()).then(data=>setCategory(data));},[]);// Nested functions\n// The handleChange function gets current input from form\nfunction handleChange(event){// Get user input\nconst{name,value}=event.target;// Determine if it's a new category\nif(name===\"title\"){if(value===\"Other\"){setIsCategory(false);}else{setIsCategory(true);}}// return user input\nsetExp(prevExp=>{return{...prevExp,[name]:value};});}// The submitExp submits the info from the form to the expense array\nfunction submitExp(event){// Remove white space\nconst isWhitespaceString=str=>!str.replace(/\\s/g,'').length;console.log(exp);// If user filled in required fields\nif((exp.title!==\"\"&&exp.title!==\"Other\"||exp.title===\"Other\"&&!isWhitespaceString(exp.newTitle))&&Number(exp.amount)!==0&&exp.date!==\"\"){// Add expense\nprops.onAdd(exp);// Reset text input\nsetExp({title:\"\",newTitle:\"\",amount:\"\",date:\"\",description:\"\"});setIsCategory(true);event.preventDefault();}// Else\nelse{// Alert user to enter required fields\nalert(\"Please enter required fields\");}}// The expand function sets isExpanded to true\nfunction expand(){setExpanded(true);}// Return expense section\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"section add-expense\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add Expense\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"select\",{name:\"title\",onClick:expand,onChange:handleChange,value:exp.title,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Food\",children:\"Food\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Transportation\",children:\"Transportation\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Entertainment\",children:\"Entertainment\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Utilities\",children:\"Utilities\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Groceries\",children:\"Groceries\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Other\",children:\"Other\"}),category.map((catItem,index)=>{return/*#__PURE__*/_jsx(Category,{name:catItem.name},index);})]}),!isCategory&&/*#__PURE__*/_jsx(\"input\",{name:\"newTitle\",type:\"text\",onClick:expand,placeholder:\"Expense Category\",onChange:handleChange,value:exp.newTitle,required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"amount\",type:\"number\",onClick:expand,placeholder:\"Expense amount ($)\",onChange:handleChange,value:exp.amount,required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"date\",type:\"date\",onClick:expand,placeholder:\"Date\",onChange:handleChange,value:exp.date,required:true}),isExpanded&&/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",placeholder:\"Description of expense (optional)\",onChange:handleChange,value:exp.description,rows:3}),/*#__PURE__*/_jsx(Zoom,{in:isExpanded,children:/*#__PURE__*/_jsx(Fab,{onClick:submitExp,children:/*#__PURE__*/_jsx(AddIcon,{})})})]})]});}// Export function\nexport default Expense;","map":{"version":3,"names":["React","useState","useEffect","Zoom","Fab","AddIcon","jsx","_jsx","jsxs","_jsxs","Expense","props","isExpanded","setExpanded","category","setCategory","isCategory","setIsCategory","exp","setExp","title","newTitle","amount","date","description","fetch","then","res","json","data","handleChange","event","name","value","target","prevExp","submitExp","isWhitespaceString","str","replace","length","console","log","Number","onAdd","preventDefault","alert","expand","className","children","onClick","onChange","required","map","catItem","index","Category","type","placeholder","rows","in"],"sources":["/Users/alonsogarcia/Desktop/School/NAU/SUMMER 24/CS 312/website/public/cs312/CS-312-Project/frontend/src/components/Expense.jsx"],"sourcesContent":["// Imports\nimport React, { useState, useEffect } from \"react\";\nimport Zoom from \"@material-ui/core/Zoom\";\nimport Fab from \"@material-ui/core/Fab\";\nimport AddIcon from \"@material-ui/icons/Add\";\n\n\n\n// The Expense function returns the expense section of the website\nfunction Expense( props ) {\n\n\n\n  // Constants\n  const [ isExpanded, setExpanded ] = useState( false );\n  const [ category, setCategory ] = useState([]);\n  const [ isCategory, setIsCategory ] = useState( true );\n  const [ exp, setExp ] = useState({\n    title: \"\",\n    newTitle: \"\",\n    amount: \"\",\n    date: \"\",\n    description: \"\"\n  });\n\n  useEffect( () => {\n    fetch( \"/api/categories\" )\n      .then( res => res.json() )\n      .then( data => setCategory( data ) );\n  }, [] );\n\n  // Nested functions\n\n    // The handleChange function gets current input from form\n    function handleChange( event ) {\n\n      // Get user input\n      const { name, value } = event.target;\n\n      // Determine if it's a new category\n      if ( name === \"title\" ) {\n        if ( value === \"Other\" ) {\n          setIsCategory( false );\n        }\n        else {\n          setIsCategory( true );\n        }\n      }\n\n      // return user input\n      setExp( prevExp => {\n        return {\n          ...prevExp,\n          [ name ]: value\n        };\n      });\n    }\n\n    // The submitExp submits the info from the form to the expense array\n    function submitExp( event ) {\n\n      // Remove white space\n      const isWhitespaceString = str => !str.replace(/\\s/g, '').length\n\n      console.log( exp );\n\n      // If user filled in required fields\n      if ( ( exp.title !== \"\" && exp.title !== \"Other\" || exp.title === \"Other\" &&\n         !isWhitespaceString( exp.newTitle ) ) && Number( exp.amount ) !== 0 &&\n         exp.date !== \"\" ) {\n\n        // Add expense\n        props.onAdd( exp );\n\n        // Reset text input\n        setExp({\n          title: \"\",\n          newTitle: \"\",\n          amount: \"\",\n          date: \"\",\n          description: \"\"\n        });\n        setIsCategory( true );\n        event.preventDefault();\n      }\n\n      // Else\n      else {\n\n        // Alert user to enter required fields\n        alert( \"Please enter required fields\" );\n      }\n    }\n\n    // The expand function sets isExpanded to true\n    function expand() {\n      setExpanded( true );\n    }\n\n\n\n  // Return expense section\n  return (\n    <div className=\"section add-expense\">\n        <h3>Add Expense</h3>\n        <form>\n          <select\n            name=\"title\"\n            onClick = { expand }\n            onChange={ handleChange }\n            value={ exp.title }\n            required\n          >\n            <option value=\"\">Select category</option>\n            <option value=\"Food\">Food</option>\n            <option value=\"Transportation\">Transportation</option>\n            <option value=\"Entertainment\">Entertainment</option>\n            <option value=\"Utilities\">Utilities</option>\n            <option value=\"Groceries\">Groceries</option>\n            <option value=\"Other\" >Other</option>\n            { category.map( ( catItem, index ) => {\n              return (\n                <Category\n                  key={ index }\n                  name={ catItem.name }\n                />\n              );\n            })}\n          </select>\n          { !isCategory && (\n          <input\n            name=\"newTitle\"\n            type=\"text\"\n            onClick={ expand }\n            placeholder=\"Expense Category\"\n            onChange={ handleChange }\n            value={ exp.newTitle }\n            required\n          />\n          )}\n          <input\n            name=\"amount\"\n            type=\"number\"\n            onClick={ expand }\n            placeholder=\"Expense amount ($)\"\n            onChange={ handleChange }\n            value={ exp.amount }\n            required\n          />\n          <input\n            name=\"date\"\n            type=\"date\"\n            onClick = { expand }\n            placeholder=\"Date\"\n            onChange={ handleChange }\n            value={ exp.date }\n            required\n          />\n          { isExpanded && (\n          <textarea\n            name=\"description\"\n            placeholder=\"Description of expense (optional)\"\n            onChange={ handleChange }\n            value={ exp.description }\n            rows={ 3 }\n          />)}\n\n          <Zoom in={ isExpanded }>\n            <Fab onClick={ submitExp }>\n              <AddIcon />\n            </Fab>\n          </Zoom>\n        </form>\n    </div>\n  );\n}\n\n\n\n// Export function\nexport default Expense;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}