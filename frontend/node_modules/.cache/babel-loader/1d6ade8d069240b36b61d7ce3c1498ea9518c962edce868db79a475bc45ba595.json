{"ast":null,"code":"// Imports\nimport React,{useEffect,useState}from\"react\";import Login from\"./Login.jsx\";import Header from\"./Header.jsx\";import Expenses from\"./Expenses.jsx\";import AddExpense from\"./AddExpense.jsx\";import Charts from\"./Charts.jsx\";import Summary from\"./Summary.jsx\";// The App function returns a \"container\" of components of the website\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _monthly$monthIdx3;// Constants\nconst curMonth=new Date().getMonth();const[isLogged,setIsLogged]=useState(false);const[logins,setLogins]=useState([]);const[exps,setExps]=useState([]);const[monthly,setMonthly]=useState([]);const[monthIdx,setMonthIdx]=useState(curMonth);useEffect(()=>{fetch(\"/api/logins\",{\"method\":\"GET\"}).then(res=>res.json()).then(data=>setLogins([...data])).catch(err=>console.log(err));fetch(\"/api/monthly\",{\"method\":\"GET\"}).then(res=>res.json()).then(data=>{var _monthly$monthIdx,_monthly$monthIdx2;setMonthly([...data]);console.log((_monthly$monthIdx=monthly[monthIdx])===null||_monthly$monthIdx===void 0?void 0:_monthly$monthIdx.exps);setExps([(_monthly$monthIdx2=monthly[monthIdx])===null||_monthly$monthIdx2===void 0?void 0:_monthly$monthIdx2.exps]);}).catch(err=>console.log(err));// fetch( \"/api/expenses\", {\n//   \"method\": \"GET\"\n// })\n//   .then( res => res.json() )\n//   .then( data => {\n//\n//     setExps( [ monthly[ monthIdx ].exps ] )\n//   })\n//   .catch( err => console.log( err ) );\n},[]);// Nested functions\nconst changeMonth=event=>{setMonthIdx(event.target.value);};// The addExpense function returns a new array with new expense\nconst addExpense=newExp=>{console.log(newExp);setExps(prevExps=>[...prevExps,newExp]);// window.location.reload();\n};// The deleteExpense function returns new array without the deleted expense\nconst deleteExpense=idx=>{setExps(prevExps=>{console.log(prevExps);return prevExps.filter((expItem,index)=>{console.log(index,idx);return index!==idx;});});// window.location.reload();\n};// Return container of all sections of website\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Summary,{curMonth:curMonth,monthSum:monthly[monthIdx],changeMonth:changeMonth}),/*#__PURE__*/_jsx(Charts,{monthSum:monthly[monthIdx],monthIdx:monthIdx}),/*#__PURE__*/_jsx(Expenses,{exps:(_monthly$monthIdx3=monthly[monthIdx])===null||_monthly$monthIdx3===void 0?void 0:_monthly$monthIdx3.exps,onDelete:deleteExpense}),/*#__PURE__*/_jsx(AddExpense,{onAdd:addExpense})]});}// Export function\nexport default App;","map":{"version":3,"names":["React","useEffect","useState","Login","Header","Expenses","AddExpense","Charts","Summary","jsx","_jsx","jsxs","_jsxs","App","_monthly$monthIdx3","curMonth","Date","getMonth","isLogged","setIsLogged","logins","setLogins","exps","setExps","monthly","setMonthly","monthIdx","setMonthIdx","fetch","then","res","json","data","catch","err","console","log","_monthly$monthIdx","_monthly$monthIdx2","changeMonth","event","target","value","addExpense","newExp","prevExps","deleteExpense","idx","filter","expItem","index","className","children","monthSum","onDelete","onAdd"],"sources":["/Users/alonsogarcia/Desktop/School/NAU/SUMMER 24/CS 312/website/public/cs312/CS-312-Project/frontend/src/components/App.jsx"],"sourcesContent":["// Imports\nimport React, { useEffect, useState } from \"react\";\nimport Login from \"./Login.jsx\";\nimport Header from \"./Header.jsx\";\nimport Expenses from \"./Expenses.jsx\";\nimport AddExpense from \"./AddExpense.jsx\";\nimport Charts from \"./Charts.jsx\";\nimport Summary from \"./Summary.jsx\";\n\n\n// The App function returns a \"container\" of components of the website\nfunction App() {\n\n\n\n  // Constants\n  const curMonth = new Date().getMonth();\n  const [ isLogged, setIsLogged ] = useState( false );\n  const [ logins, setLogins ] = useState([])\n  const [ exps, setExps ] = useState([]);\n  const [ monthly, setMonthly ] = useState([]);\n  const [ monthIdx, setMonthIdx ] = useState( curMonth );\n\n\n\n  useEffect( () => {\n    fetch( \"/api/logins\", {\n      \"method\": \"GET\"\n    })\n      .then( res => res.json() )\n      .then( data => setLogins( [ ...data ] ) )\n      .catch( err => console.log( err ) );\n\n    fetch( \"/api/monthly\" , {\n      \"method\": \"GET\"\n    })\n      .then( res => res.json() )\n      .then( data => {\n        setMonthly( [ ...data ] );\n        console.log( monthly[ monthIdx ]?.exps );\n        setExps( [ monthly[ monthIdx ]?.exps ] );\n      })\n      .catch( err => console.log( err ) );\n\n    // fetch( \"/api/expenses\", {\n    //   \"method\": \"GET\"\n    // })\n    //   .then( res => res.json() )\n    //   .then( data => {\n    //\n    //     setExps( [ monthly[ monthIdx ].exps ] )\n    //   })\n    //   .catch( err => console.log( err ) );\n\n\n  }, [] );\n\n  // Nested functions\n\n    const changeMonth = ( event ) => {\n        setMonthIdx( event.target.value );\n    }\n\n    // The addExpense function returns a new array with new expense\n    const addExpense = ( newExp ) => {\n      console.log( newExp );\n      setExps( prevExps => [ ...prevExps, newExp ] );\n      // window.location.reload();\n    }\n\n\n\n    // The deleteExpense function returns new array without the deleted expense\n    const deleteExpense = ( idx ) => {\n      setExps( prevExps => {\n        console.log( prevExps );\n        return prevExps.filter( ( expItem, index ) => {\n          console.log( index, idx );\n          return index !== idx;\n        });\n      });\n      // window.location.reload();\n    }\n\n\n\n  // Return container of all sections of website\n  return (\n    <div className=\"container\">\n      <Header />\n\n      <Summary\n        curMonth={ curMonth }\n        monthSum={ monthly[ monthIdx ] }\n        changeMonth={ changeMonth }\n      />\n\n      <Charts\n        monthSum={ monthly[ monthIdx ] }\n        monthIdx = { monthIdx }\n      />\n\n      <Expenses\n        exps={ monthly[ monthIdx ]?.exps }\n        onDelete={ deleteExpense }\n      />\n\n      <AddExpense onAdd={ addExpense } />\n\n    </div>\n  );\n}\n\n\n\n// Export function\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}