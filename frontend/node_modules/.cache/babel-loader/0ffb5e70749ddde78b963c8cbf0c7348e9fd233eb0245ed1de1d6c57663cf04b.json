{"ast":null,"code":"// Imports\nimport React,{useState,useEffect}from\"react\";import axios from\"axios\";import Category from\"./Category.jsx\";import Zoom from\"@material-ui/core/Zoom\";import Fab from\"@material-ui/core/Fab\";import AddIcon from\"@material-ui/icons/Add\";// The Expense function returns the expense section of the website\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Expense(props){// Constants\nconst[isExpanded,setExpanded]=useState(false);const[categories,setCategories]=useState([]);const[isCategory,setIsCategory]=useState(true);const[exp,setExp]=useState({title:\"\",amount:\"\",date:\"\",description:\"\"});useEffect(()=>{fetch(\"/api/categories\").then(res=>res.json()).then(data=>setCategories(data));},[]);// Nested functions\n// The handleChange function gets current input from form\nfunction handleChange(event){// Get user input\nconst{name,value}=event.target;console.log(value);// return user input\nsetExp(prevExp=>{return{...prevExp,[name]:value};});}// The submitExp submits the info from the form to the expense array\nfunction submitExp(event){// Remove white space\nconst isWhitespaceString=str=>!str.replace(/\\s/g,'').length;const{title,amount,date,description}=exp;console.log(exp);const options={method:'POST',url:'https://localhost:8080/submit',headers:{'content-type':'application/json'},data:{title:title,amount:amount,date:date,description:description}};axios.request(options).then(res=>{console.log(res.data);}).catch(err=>{console.error(err);});// If user filled in required fields\nif(!isWhitespaceString(exp.title)&&Number(exp.amount)!==0&&exp.date!==\"\"){// Add expense\nprops.onAdd(exp);// Reset text input\nsetExp({title:\"\",amount:\"\",date:\"\",description:\"\"});event.preventDefault();}// Else\nelse{// Alert user to enter required fields\nalert(\"Please enter required fields\");}}function changeDropdown(event){const{checked}=event.target;// Determine if it's a new category\nif(checked){setExp({title:\"\"});setIsCategory(false);}else{setIsCategory(true);}}// The expand function sets isExpanded to true\nfunction expand(){setExpanded(true);}// Return expense section\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"section add-expense\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add Expense\"}),/*#__PURE__*/_jsxs(\"form\",{children:[isCategory&&/*#__PURE__*/_jsxs(\"select\",{className:\"dropdown\",name:\"title\",onClick:expand,onChange:handleChange,value:exp.title,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Category\"}),categories.map((catItem,index)=>{return/*#__PURE__*/_jsx(Category,{name:catItem.name},index);})]}),/*#__PURE__*/_jsx(\"input\",{name:\"btn\",type:\"checkbox\",onClick:expand,onChange:changeDropdown}),!isCategory&&/*#__PURE__*/_jsx(\"input\",{name:\"title\",type:\"text\",onClick:expand,placeholder:\"Expense Category\",onChange:handleChange,value:exp.title,required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"amount\",type:\"number\",onClick:expand,placeholder:\"Expense amount ($)\",onChange:handleChange,value:exp.amount,required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"date\",type:\"date\",onClick:expand,placeholder:\"Date\",onChange:handleChange,value:exp.date,required:true}),isExpanded&&/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",placeholder:\"Description of expense (optional)\",onChange:handleChange,value:exp.description,rows:3}),/*#__PURE__*/_jsx(Zoom,{in:isExpanded,children:/*#__PURE__*/_jsx(Fab,{onClick:submitExp,children:/*#__PURE__*/_jsx(AddIcon,{})})})]})]});}// Export function\nexport default Expense;","map":{"version":3,"names":["React","useState","useEffect","axios","Category","Zoom","Fab","AddIcon","jsx","_jsx","jsxs","_jsxs","Expense","props","isExpanded","setExpanded","categories","setCategories","isCategory","setIsCategory","exp","setExp","title","amount","date","description","fetch","then","res","json","data","handleChange","event","name","value","target","console","log","prevExp","submitExp","isWhitespaceString","str","replace","length","options","method","url","headers","request","catch","err","error","Number","onAdd","preventDefault","alert","changeDropdown","checked","expand","className","children","onClick","onChange","map","catItem","index","type","placeholder","required","rows","in"],"sources":["/Users/alonsogarcia/Desktop/School/NAU/SUMMER 24/CS 312/website/public/cs312/CS-312-Project/frontend/src/components/Expense.jsx"],"sourcesContent":["// Imports\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Category from \"./Category.jsx\";\nimport Zoom from \"@material-ui/core/Zoom\";\nimport Fab from \"@material-ui/core/Fab\";\nimport AddIcon from \"@material-ui/icons/Add\";\n\n\n\n// The Expense function returns the expense section of the website\nfunction Expense( props ) {\n\n\n\n  // Constants\n  const [ isExpanded, setExpanded ] = useState( false );\n  const [ categories, setCategories ] = useState([]);\n  const [ isCategory, setIsCategory ] = useState( true );\n  const [ exp, setExp ] = useState({\n    title: \"\",\n    amount: \"\",\n    date: \"\",\n    description: \"\"\n  });\n\n  useEffect( () => {\n    fetch( \"/api/categories\" )\n      .then( res => res.json() )\n      .then( data => setCategories( data ) );\n  }, [] );\n\n  // Nested functions\n\n    // The handleChange function gets current input from form\n    function handleChange( event ) {\n\n      // Get user input\n      const { name, value } = event.target;\n\n      console.log( value );\n\n      // return user input\n      setExp( prevExp => {\n        return {\n          ...prevExp,\n          [ name ]: value\n        };\n      });\n    }\n\n    // The submitExp submits the info from the form to the expense array\n    function submitExp( event ) {\n\n      // Remove white space\n      const isWhitespaceString = str => !str.replace(/\\s/g, '').length;\n\n      const { title, amount, date, description } = exp;\n\n      console.log( exp );\n\n      const options = {\n        method: 'POST',\n        url: 'https://localhost:8080/submit',\n        headers: {'content-type': 'application/json'},\n        data: {\n          title: title,\n          amount: amount,\n          date: date,\n          description: description\n        }\n      };\n\n      axios\n        .request( options )\n        .then( ( res ) => { console.log( res.data ); } )\n        .catch( ( err ) => { console.error( err ); } );\n\n      // If user filled in required fields\n      if ( ( !isWhitespaceString( exp.title ) ) && Number( exp.amount ) !== 0\n             && exp.date !== \"\" ) {\n\n        // Add expense\n        props.onAdd( exp );\n\n        // Reset text input\n        setExp({\n          title: \"\",\n          amount: \"\",\n          date: \"\",\n          description: \"\"\n        });\n        event.preventDefault();\n      }\n\n      // Else\n      else {\n\n        // Alert user to enter required fields\n        alert( \"Please enter required fields\" );\n      }\n    }\n\n    function changeDropdown( event ) {\n\n      const { checked } = event.target;\n\n      // Determine if it's a new category\n      if ( checked ) {\n        setExp( { title: \"\" } );\n        setIsCategory( false );\n      }\n      else {\n        setIsCategory( true );\n      }\n    }\n\n    // The expand function sets isExpanded to true\n    function expand() {\n      setExpanded( true );\n    }\n\n  // Return expense section\n  return (\n    <div className=\"section add-expense\">\n        <h3>Add Expense</h3>\n        <form>\n\n\n          { isCategory && (\n          <select\n            className=\"dropdown\"\n            name=\"title\"\n            onClick = { expand }\n            onChange={ handleChange }\n            value={ exp.title }\n          >\n\n\n            <option value=\"\">Select Category</option>\n            { categories.map( ( catItem, index ) => {\n              return (\n                <Category\n                  key={ index }\n                  name={ catItem.name }\n                />\n              );\n            })}\n\n\n\n          </select>)}\n\n\n\n          <input\n            name=\"btn\"\n            type=\"checkbox\"\n            onClick = { expand }\n            onChange={ changeDropdown }\n          />\n\n\n\n          { !isCategory && (\n          <input\n            name=\"title\"\n            type=\"text\"\n            onClick={ expand }\n            placeholder=\"Expense Category\"\n            onChange={ handleChange }\n            value={ exp.title }\n            required\n          />\n          )}\n\n\n\n          <input\n            name=\"amount\"\n            type=\"number\"\n            onClick={ expand }\n            placeholder=\"Expense amount ($)\"\n            onChange={ handleChange }\n            value={ exp.amount }\n            required\n          />\n\n\n\n          <input\n            name=\"date\"\n            type=\"date\"\n            onClick = { expand }\n            placeholder=\"Date\"\n            onChange={ handleChange }\n            value={ exp.date }\n            required\n          />\n\n\n\n          { isExpanded && (\n          <textarea\n            name=\"description\"\n            placeholder=\"Description of expense (optional)\"\n            onChange={ handleChange }\n            value={ exp.description }\n            rows={ 3 }\n          />)}\n\n\n\n          <Zoom in={ isExpanded }>\n            <Fab onClick={ submitExp }>\n              <AddIcon />\n            </Fab>\n          </Zoom>\n\n\n\n        </form>\n    </div>\n  );\n}\n\n\n\n// Export function\nexport default Expense;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}