{"ast":null,"code":"// Imports\nimport React,{useEffect,useState}from\"react\";import Header from\"./Header.jsx\";import Detail from\"./Detail.jsx\";import Expense from\"./Expense.jsx\";import Image from\"./Image.jsx\";import Budget from\"./Budget.jsx\";// The App function returns a \"container\" of components of the website\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){// Constants\nconst curMonth=new Date().getMonth();const[exps,setExps]=useState([]);const[monthly,setMonthly]=useState([]);const[monthIdx,setMonthIdx]=useState(curMonth);useEffect(()=>{fetch(\"/api/expenses\",{\"method\":\"GET\"}).then(res=>res.json()).then(data=>setExps(data)).catch(err=>console.log(err));fetch(\"/api/monthly\",{\"method\":\"GET\"}).then(res=>res.json()).then(data=>setMonthly(data)).catch(err=>console.log(err));},[]);// Nested functions\nconst changeMonth=event=>{// if ( event.target.value === \"12\") {\n//   setMonthIdx( curMonth );\n// }\n// else {\nsetMonthIdx(event.target.value);// }\n};// The addExpense function returns a new array with new expense\nfunction addExpense(newExp){setExps(prevExps=>[...prevExps,newExp]);window.location.reload();}// The deleteExpense function returns new array without the deleted expense\nfunction deleteExpense(idx){setExps(prevExps=>prevExps.filter((expItem,index)=>index!==idx));window.location.reload();}// Return container of all sections of website\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Budget,{curMonth:curMonth,monthly:monthly,monthIdx:monthIdx,changeMonth:changeMonth}),/*#__PURE__*/_jsx(Detail,{exps:monthly[monthIdx].exps,onDelete:deleteExpense}),/*#__PURE__*/_jsx(Expense,{onAdd:addExpense})]});}// Export function\nexport default App;","map":{"version":3,"names":["React","useEffect","useState","Header","Detail","Expense","Image","Budget","jsx","_jsx","jsxs","_jsxs","App","curMonth","Date","getMonth","exps","setExps","monthly","setMonthly","monthIdx","setMonthIdx","fetch","then","res","json","data","catch","err","console","log","changeMonth","event","target","value","addExpense","newExp","prevExps","window","location","reload","deleteExpense","idx","filter","expItem","index","className","children","onDelete","onAdd"],"sources":["/Users/alonsogarcia/Desktop/School/NAU/SUMMER 24/CS 312/website/public/cs312/CS-312-Project/frontend/src/components/App.jsx"],"sourcesContent":["// Imports\nimport React, { useEffect, useState } from \"react\";\nimport Header from \"./Header.jsx\";\nimport Detail from \"./Detail.jsx\";\nimport Expense from \"./Expense.jsx\";\nimport Image from \"./Image.jsx\";\nimport Budget from \"./Budget.jsx\";\n\n\n// The App function returns a \"container\" of components of the website\nfunction App() {\n\n\n\n  // Constants\n  const curMonth = new Date().getMonth();\n  const [ exps, setExps ] = useState([]);\n  const [ monthly, setMonthly ] = useState([]);\n  const [ monthIdx, setMonthIdx ] = useState( curMonth );\n\n\n\n  useEffect( () => {\n    fetch( \"/api/expenses\", {\n      \"method\": \"GET\"\n    })\n      .then( res => res.json() )\n      .then( data => setExps( data ) )\n      .catch( err => console.log( err ) );\n\n    fetch( \"/api/monthly\" , {\n      \"method\": \"GET\"\n    })\n      .then( res => res.json() )\n      .then( data => setMonthly( data ) )\n      .catch( err => console.log( err ) );\n  }, [] );\n\n  // Nested functions\n\n    const changeMonth = ( event ) => {\n      // if ( event.target.value === \"12\") {\n      //   setMonthIdx( curMonth );\n      // }\n      // else {\n        setMonthIdx( event.target.value );\n      // }\n    }\n\n    // The addExpense function returns a new array with new expense\n    function addExpense( newExp ) {\n      setExps( prevExps => [ ...prevExps, newExp ] );\n      window.location.reload();\n    }\n\n\n\n    // The deleteExpense function returns new array without the deleted expense\n    function deleteExpense( idx ) {\n      setExps( prevExps => prevExps.filter( ( expItem, index ) => index !== idx ) );\n      window.location.reload();\n    }\n\n\n\n  // Return container of all sections of website\n  return (\n    <div className=\"container\">\n      <Header />\n      <Budget\n        curMonth={ curMonth }\n        monthly={ monthly }\n        monthIdx={ monthIdx }\n        changeMonth={ changeMonth }\n      />\n      <Detail\n        exps={ monthly[ monthIdx ].exps }\n        onDelete={ deleteExpense }\n      />\n      <Expense onAdd={ addExpense } />\n\n\n    </div>\n  );\n}\n\n\n\n// Export function\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}